(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{147:function(l,n,u){"use strict";u.r(n);var t=u(0),e=function(){return function(){}}(),o=u(160),r=u(232),i=function(){return function(l){this.runSearch=new t.q,this.searchForm=l.group({query:["",r.n.required]})}}(),s=t.Wa({encapsulation:2,styles:[],data:{}});function a(l){return t.rb(0,[(l()(),t.Ya(0,0,null,null,14,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,u){var e=!0,o=l.component;"submit"===n&&(e=!1!==t.hb(l,2).onSubmit(u)&&e);"reset"===n&&(e=!1!==t.hb(l,2).onReset()&&e);"submit"===n&&(u.preventDefault(),e=!1!==o.runSearch.emit(o.searchForm.value.query)&&e);return e},null,null)),t.Xa(1,16384,null,0,r.p,[],null,null),t.Xa(2,540672,null,0,r.h,[[8,null],[8,null]],{form:[0,"form"]},null),t.mb(2048,null,r.b,null,[r.h]),t.Xa(4,16384,null,0,r.l,[[4,r.b]],null,null),(l()(),t.Ya(5,0,null,null,9,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t.Ya(6,0,null,null,5,"input",[["class","form-control"],["formControlName","query"],["type","search"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;"input"===n&&(e=!1!==t.hb(l,7)._handleInput(u.target.value)&&e);"blur"===n&&(e=!1!==t.hb(l,7).onTouched()&&e);"compositionstart"===n&&(e=!1!==t.hb(l,7)._compositionStart()&&e);"compositionend"===n&&(e=!1!==t.hb(l,7)._compositionEnd(u.target.value)&&e);return e},null,null)),t.Xa(7,16384,null,0,r.c,[t.N,t.o,[2,r.a]],null,null),t.mb(1024,null,r.i,function(l){return[l]},[r.c]),t.Xa(9,671744,null,0,r.g,[[3,r.b],[8,null],[8,null],[6,r.i],[2,r.r]],{name:[0,"name"]},null),t.mb(2048,null,r.j,null,[r.g]),t.Xa(11,16384,null,0,r.k,[[4,r.j]],null,null),(l()(),t.Ya(12,0,null,null,2,"span",[["class","input-group-btn"]],null,null,null,null,null)),(l()(),t.Ya(13,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(l()(),t.pb(-1,null,[" Search "]))],function(l,n){l(n,2,0,n.component.searchForm);l(n,9,0,"query")},function(l,n){var u=n.component;l(n,0,0,t.hb(n,4).ngClassUntouched,t.hb(n,4).ngClassTouched,t.hb(n,4).ngClassPristine,t.hb(n,4).ngClassDirty,t.hb(n,4).ngClassValid,t.hb(n,4).ngClassInvalid,t.hb(n,4).ngClassPending),l(n,6,0,t.hb(n,11).ngClassUntouched,t.hb(n,11).ngClassTouched,t.hb(n,11).ngClassPristine,t.hb(n,11).ngClassDirty,t.hb(n,11).ngClassValid,t.hb(n,11).ngClassInvalid,t.hb(n,11).ngClassPending),l(n,13,0,!u.searchForm.valid)})}t.Ua("mwl-search-box",i,function(l){return t.rb(0,[(l()(),t.Ya(0,0,null,null,1,"mwl-search-box",[],null,null,null,a,s)),t.Xa(1,49152,null,0,i,[r.d],null,null)],null,null)},{},{runSearch:"runSearch"},[]);var c=u(161),b=u(156),h=u(149),f=u(150),d=function(){function l(l){this.tvMaze=l}return l.prototype.resetSearch=function(){this.error=null,this.shows=null},l.prototype.searchShows=function(l){var n=this;this.resetSearch(),this.tvMaze.search(l).subscribe(function(l){return n.shows=l},function(l){return n.error=l})},l}(),p=t.Wa({encapsulation:2,styles:[],data:{}});function m(l){return t.rb(0,[(l()(),t.Ya(0,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.Ya(1,0,null,null,1,"h1",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t.pb(-1,null,["Add a show"])),(l()(),t.Ya(3,0,null,null,1,"mwl-search-box",[["class","col-md-6"]],null,[[null,"runSearch"]],function(l,n,u){var t=!0,e=l.component;"runSearch"===n&&(t=!1!==e.searchShows(u)&&t);return t},a,s)),t.Xa(4,49152,null,0,i,[r.d],null,{runSearch:"runSearch"}),(l()(),t.Ya(5,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Ya(6,0,null,null,1,"mwl-show-list",[],null,null,null,c.b,c.a)),t.Xa(7,770048,null,0,b.a,[h.a],{shows:[0,"shows"]},null),(l()(),t.Ya(8,0,null,null,1,"div",[["class","alert alert-danger"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t.pb(-1,null,[" No TV shows found with this name "]))],function(l,n){l(n,7,0,n.component.shows)},function(l,n){var u=n.component;l(n,8,0,!u.error&&(!u.shows||u.shows.length>0))})}var g=t.Ua("ng-component",d,function(l){return t.rb(0,[(l()(),t.Ya(0,0,null,null,1,"ng-component",[],null,null,null,m,p)),t.Xa(1,49152,null,0,d,[f.a],null,null)],null,null)},{},{},[]),w=u(4),v=u(230),S=u(155),y=u(153),Y=u(220),C=u(154),x=u(2);u.d(n,"SearchModuleNgFactory",function(){return N});var N=t.Va(e,[],function(l){return t.eb([t.fb(512,t.l,t.Ka,[[8,[o.a,g]],[3,t.l],t.F]),t.fb(4608,w.n,w.m,[t.B,[2,w.v]]),t.fb(4608,v.i,v.o,[w.d,t.K,v.m]),t.fb(4608,v.p,v.p,[v.i,v.n]),t.fb(5120,v.a,function(l){return[l]},[v.p]),t.fb(4608,v.l,v.l,[]),t.fb(6144,v.j,null,[v.l]),t.fb(4608,v.h,v.h,[v.j]),t.fb(6144,v.b,null,[v.h]),t.fb(4608,v.f,v.k,[v.b,t.x]),t.fb(4608,v.c,v.c,[v.f]),t.fb(4608,r.d,r.d,[]),t.fb(4608,r.q,r.q,[]),t.fb(5120,S.e,S.c,[S.b]),t.fb(4608,y.a,y.a,[]),t.fb(5120,Y.c,C.b,[]),t.fb(5120,Y.e,Y.g,[Y.c]),t.fb(5120,Y.f,Y.h,[Y.c]),t.fb(4608,Y.a,Y.a,[Y.c]),t.fb(4608,Y.d,Y.d,[v.c,Y.a]),t.fb(4608,h.a,h.a,[]),t.fb(4608,f.a,f.a,[Y.d]),t.fb(1073742336,x.p,x.p,[[2,x.v],[2,x.l]]),t.fb(1073742336,w.c,w.c,[]),t.fb(1073742336,S.a,S.a,[]),t.fb(1073742336,v.e,v.e,[]),t.fb(1073742336,v.d,v.d,[]),t.fb(1073742336,Y.b,Y.b,[]),t.fb(1073742336,r.o,r.o,[]),t.fb(1073742336,r.m,r.m,[]),t.fb(1073742336,C.a,C.a,[]),t.fb(1073742336,e,e,[]),t.fb(256,v.m,"XSRF-TOKEN",[]),t.fb(256,v.n,"X-XSRF-TOKEN",[]),t.fb(256,S.b,{confirmButtonType:"danger",cancelButtonType:"secondary"},[]),t.fb(1024,x.j,function(){return[[{path:"",component:d}]]},[])])})},149:function(l,n,u){"use strict";u.d(n,"a",function(){return t});var t=function(){function l(){}return l.prototype.getItem=function(l,n){return localStorage.getItem(l)?JSON.parse(localStorage.getItem(l)):n},l.prototype.setItem=function(l,n){localStorage.setItem(l,JSON.stringify(n))},l.prototype.removeItem=function(l){localStorage.removeItem(l)},l}()},150:function(l,n,u){"use strict";u.d(n,"a",function(){return o});var t=u(230),e=u(6),o=function(){function l(l){this.http=l}return l.prototype.search=function(n){return this.http.get(l.BASE_URL+"search/shows",{params:(new t.g).set("q",n)}).pipe(Object(e.a)(function(l){return l.map(function(l){return l.show})}))},l.prototype.getEpisodes=function(n){return this.http.get(l.BASE_URL+"shows/"+n+"/episodes")},l.BASE_URL="https://api.tvmaze.com/",l}()},151:function(l,n,u){"use strict";u.d(n,"b",function(){return t}),u.d(n,"a",function(){return o});var t,e=u(227);!function(l){l.Asc="asc",l.Desc="desc"}(t||(t={}));var o=function(){function l(){}return l.prototype.transform=function(l,n,u){return void 0===u&&(u=t.Asc),l&&n?Object(e.a)(l,n,u):l},l}()},152:function(l,n,u){"use strict";u.d(n,"a",function(){return e});var t=u(151),e=function(){function l(){this.OrderByDirection=t.b}return l.prototype.headerClicked=function(){this.sort.field===this.fieldName?this.sort.direction===t.b.Desc?(this.sort.direction=t.b.Asc,this.sort.field=null):this.sort.direction=t.b.Desc:(this.sort.field=this.fieldName,this.sort.direction=t.b.Asc)},l}()},154:function(l,n,u){"use strict";u.d(n,"b",function(){return e}),u.d(n,"a",function(){return o});var t=u(220);function e(){return new t.c({driver:new t.e,fromCacheAndReplay:!0})}var o=function(){return function(){}}()},156:function(l,n,u){"use strict";u.d(n,"a",function(){return c});var t=u(1),e=u(0),o=(u(149),u(151)),r=u(232),i=u(27),s=u(180),a=u(241),c=function(){function l(l){this.localStorage=l,this.unsubscribe=new e.q,this.filteredShowsList=[],this.sort={field:null,direction:o.b.Asc},this.searchTextControl=new r.e(""),this.destroy$=new i.a}return l.prototype.ngOnInit=function(){var l=this;this.searchTextControl.valueChanges.pipe(Object(s.a)(this.destroy$)).subscribe(function(){return l.updateFilteredShowsList()})},l.prototype.ngOnChanges=function(l){l.shows&&this.shows&&this.updateFilteredShowsList()},l.prototype.ngOnDestroy=function(){this.destroy$.next()},l.prototype.subscribeToShow=function(l){this.setSubscribedShows(this.getSubscribedShows().concat([l]))},l.prototype.unsubscribeFromShow=function(l){this.setSubscribedShows(this.getSubscribedShows().filter(function(n){return n.id!==l.id})),this.unsubscribe.emit(l)},l.prototype.getSubscribedShows=function(){return this.localStorage.getItem("subscribedShows",[])},l.prototype.setSubscribedShows=function(l){this.localStorage.setItem("subscribedShows",l),this.updateFilteredShowsList()},l.prototype.updateFilteredShowsList=function(){var l=this,n=this.getSubscribedShows(),u=["name","network.name","summary"];this.filteredShowsList=this.shows.map(function(l){var u=n.some(function(n){return n.id===l.id});return t.a({},l,{isSubscribed:u})}).filter(function(n){return!l.searchTextControl.value||u.some(function(u){var t=Object(a.a)(n,u);return t&&t.toLowerCase().includes(l.searchTextControl.value.toLowerCase())})})},l}()},157:function(l,n,u){"use strict";u.d(n,"a",function(){return o}),u.d(n,"b",function(){return r});var t=u(0),e=u(152),o=t.Wa({encapsulation:0,styles:["div[_ngcontent-%COMP%] {\n      cursor: pointer;\n      width: 80px;\n    }"],data:{}});function r(l){return t.rb(0,[(l()(),t.Ya(0,0,null,null,4,"div",[],null,[[null,"click"]],function(l,n,u){var t=!0,e=l.component;"click"===n&&(t=!1!==e.headerClicked()&&t);return t},null,null)),(l()(),t.Ya(1,0,null,null,0,"i",[["class","fa fa-sort"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t.Ya(2,0,null,null,0,"i",[["class","fa fa-sort-asc"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t.Ya(3,0,null,null,0,"i",[["class","fa fa-sort-desc"]],[[8,"hidden",0]],null,null,null,null)),t.gb(null,0)],null,function(l,n){var u=n.component;l(n,1,0,u.sort.field===u.fieldName),l(n,2,0,u.sort.field!==u.fieldName||u.sort.direction===u.OrderByDirection.Desc),l(n,3,0,u.sort.field!==u.fieldName||u.sort.direction===u.OrderByDirection.Asc)})}t.Ua("th[mwlSortableHeader]",e.a,function(l){return t.rb(0,[(l()(),t.Ya(0,0,null,null,1,"th",[["mwlSortableHeader",""]],null,null,null,r,o)),t.Xa(1,49152,null,0,e.a,[],{fieldName:[0,"fieldName"]},null)],function(l,n){l(n,1,0,"")},null)},{fieldName:"mwlSortableHeader",sort:"sort"},{},["*"])},161:function(l,n,u){"use strict";var t=u(0),e=u(155),o=u(153),r=u(2),i=u(151),s=function(){function l(){}return l.prototype.transform=function(l,n,u){return void 0===l&&(l=""),void 0===n&&(n=""),void 0===u&&(u=""),l.replace(n,u)},l}(),a=u(232),c=u(157),b=u(152),h=u(4),f=u(156),d=u(149);u.d(n,"a",function(){return p}),u.d(n,"b",function(){return w});var p=t.Wa({encapsulation:2,styles:[],data:{}});function m(l){return t.rb(0,[(l()(),t.Ya(0,0,null,null,21,"tr",[],[[8,"hidden",0]],null,null,null,null)),(l()(),t.Ya(1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.pb(2,null,["",""])),(l()(),t.Ya(3,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t.Ya(4,0,null,null,1,"img",[["width","60"]],[[8,"src",4]],null,null,null,null)),t.lb(5,3),(l()(),t.Ya(6,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.pb(7,null,["",""])),(l()(),t.Ya(8,0,null,null,0,"td",[],[[8,"innerHTML",1]],null,null,null,null)),(l()(),t.Ya(9,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t.Ya(10,0,null,null,1,"span",[["class","badge"]],[[2,"badge-success",null],[2,"badge-danger",null]],null,null,null,null)),(l()(),t.pb(11,null,[" "," "])),(l()(),t.Ya(12,0,null,null,9,"td",[["style","width: 270px"]],null,null,null,null,null)),(l()(),t.Ya(13,0,null,null,1,"button",[["class","btn btn-success"]],[[8,"hidden",0]],[[null,"click"]],function(l,n,u){var t=!0,e=l.component;"click"===n&&(t=!1!==e.subscribeToShow(l.context.$implicit)&&t);return t},null,null)),(l()(),t.pb(-1,null,[" Subscribe "])),(l()(),t.Ya(15,16777216,null,null,2,"button",[["class","btn btn-danger"],["mwlConfirmationPopover",""],["popoverMessage","Are you sure you would like to unsubscribe from this show?"],["popoverTitle","Unsubscribe"]],[[8,"hidden",0]],[[null,"confirm"],[null,"click"]],function(l,n,u){var e=!0,o=l.component;"click"===n&&(e=!1!==t.hb(l,16).togglePopover()&&e);"confirm"===n&&(e=!1!==o.unsubscribeFromShow(l.context.$implicit)&&e);return e},null,null)),t.Xa(16,737280,null,0,e.d,[t.Z,t.o,e.e,t.l,o.a,t.N],{popoverTitle:[0,"popoverTitle"],popoverMessage:[1,"popoverMessage"]},{confirm:"confirm"}),(l()(),t.pb(-1,null,[" Unsubscribe "])),(l()(),t.Ya(18,0,null,null,3,"button",[["class","btn btn-info"]],null,[[null,"click"]],function(l,n,u){var e=!0;"click"===n&&(e=!1!==t.hb(l,19).onClick()&&e);return e},null,null)),t.Xa(19,16384,null,0,r.m,[r.l,r.a,[8,null],t.N,t.o],{routerLink:[0,"routerLink"]},null),t.ib(20,2),(l()(),t.pb(-1,null,[" Episodes "]))],function(l,n){l(n,16,0,"Unsubscribe","Are you sure you would like to unsubscribe from this show?"),l(n,19,0,l(n,20,0,"/episodes",n.context.$implicit.id))},function(l,n){l(n,0,0,!(null!=n.context.$implicit.image&&n.context.$implicit.image.medium)),l(n,2,0,n.context.$implicit.name),l(n,4,0,t.qb(n,4,0,l(n,5,0,t.hb(n.parent,1),null==n.context.$implicit.image?null:n.context.$implicit.image.medium,"http://","https://"))),l(n,7,0,null==n.context.$implicit.network?null:n.context.$implicit.network.name),l(n,8,0,n.context.$implicit.summary),l(n,10,0,"Running"===n.context.$implicit.status,"Running"!==n.context.$implicit.status),l(n,11,0,n.context.$implicit.status),l(n,13,0,n.context.$implicit.isSubscribed),l(n,15,0,!n.context.$implicit.isSubscribed)})}function g(l){return t.rb(0,[(l()(),t.Ya(0,0,null,null,4,"tfoot",[],null,null,null,null,null)),(l()(),t.Ya(1,0,null,null,3,"tr",[],null,null,null,null,null)),(l()(),t.Ya(2,0,null,null,2,"th",[["colspan","6"]],null,null,null,null,null)),(l()(),t.Ya(3,0,null,null,1,"div",[["class","alert alert-info"]],null,null,null,null,null)),(l()(),t.pb(-1,null,["No shows were found for your search"]))],null,null)}function w(l){return t.rb(0,[t.jb(0,i.a,[]),t.jb(0,s,[]),(l()(),t.Ya(2,0,null,null,30,"table",[["class","table"]],[[8,"hidden",0]],null,null,null,null)),(l()(),t.Ya(3,0,null,null,23,"thead",[],null,null,null,null,null)),(l()(),t.Ya(4,0,null,null,7,"tr",[],null,null,null,null,null)),(l()(),t.Ya(5,0,null,null,6,"th",[["colspan","6"]],null,null,null,null,null)),(l()(),t.Ya(6,0,null,null,5,"input",[["class","form-control"],["placeholder","Filter shows..."],["type","search"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;"input"===n&&(e=!1!==t.hb(l,7)._handleInput(u.target.value)&&e);"blur"===n&&(e=!1!==t.hb(l,7).onTouched()&&e);"compositionstart"===n&&(e=!1!==t.hb(l,7)._compositionStart()&&e);"compositionend"===n&&(e=!1!==t.hb(l,7)._compositionEnd(u.target.value)&&e);return e},null,null)),t.Xa(7,16384,null,0,a.c,[t.N,t.o,[2,a.a]],null,null),t.mb(1024,null,a.i,function(l){return[l]},[a.c]),t.Xa(9,540672,null,0,a.f,[[8,null],[8,null],[6,a.i],[2,a.r]],{form:[0,"form"]},null),t.mb(2048,null,a.j,null,[a.f]),t.Xa(11,16384,null,0,a.k,[[4,a.j]],null,null),(l()(),t.Ya(12,0,null,null,14,"tr",[],null,null,null,null,null)),(l()(),t.Ya(13,0,null,null,2,"th",[["mwlSortableHeader","name"]],null,null,null,c.b,c.a)),t.Xa(14,49152,null,0,b.a,[],{fieldName:[0,"fieldName"],sort:[1,"sort"]},null),(l()(),t.pb(-1,0,["Name"])),(l()(),t.Ya(16,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.pb(-1,null,["Image"])),(l()(),t.Ya(18,0,null,null,2,"th",[["mwlSortableHeader","network.name"]],null,null,null,c.b,c.a)),t.Xa(19,49152,null,0,b.a,[],{fieldName:[0,"fieldName"],sort:[1,"sort"]},null),(l()(),t.pb(-1,0,["Network"])),(l()(),t.Ya(21,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.pb(-1,null,["Summary"])),(l()(),t.Ya(23,0,null,null,2,"th",[["mwlSortableHeader","status"]],null,null,null,c.b,c.a)),t.Xa(24,49152,null,0,b.a,[],{fieldName:[0,"fieldName"],sort:[1,"sort"]},null),(l()(),t.pb(-1,0,["Status"])),(l()(),t.Ya(26,0,null,null,0,"th",[],null,null,null,null,null)),(l()(),t.Ya(27,0,null,null,3,"tbody",[],null,null,null,null,null)),(l()(),t.Pa(16777216,null,null,2,null,m)),t.Xa(29,802816,null,0,h.k,[t.Z,t.W,t.z],{ngForOf:[0,"ngForOf"]},null),t.lb(30,3),(l()(),t.Pa(16777216,null,null,1,null,g)),t.Xa(32,16384,null,0,h.l,[t.Z,t.W],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,9,0,u.searchTextControl);l(n,14,0,"name",u.sort);l(n,19,0,"network.name",u.sort);l(n,24,0,"status",u.sort),l(n,29,0,t.qb(n,29,0,l(n,30,0,t.hb(n,0),u.filteredShowsList,u.sort.field,u.sort.direction))),l(n,32,0,0===u.filteredShowsList.length&&u.searchTextControl.value)},function(l,n){var u=n.component;l(n,2,0,!u.shows||0===u.shows.length),l(n,6,0,t.hb(n,11).ngClassUntouched,t.hb(n,11).ngClassTouched,t.hb(n,11).ngClassPristine,t.hb(n,11).ngClassDirty,t.hb(n,11).ngClassValid,t.hb(n,11).ngClassInvalid,t.hb(n,11).ngClassPending)})}t.Ua("mwl-show-list",f.a,function(l){return t.rb(0,[(l()(),t.Ya(0,0,null,null,1,"mwl-show-list",[],null,null,null,w,p)),t.Xa(1,770048,null,0,f.a,[d.a],null,null)],function(l,n){l(n,1,0)},null)},{shows:"shows"},{unsubscribe:"unsubscribe"},[])},180:function(l,n,u){"use strict";u.d(n,"a",function(){return r});var t=u(1),e=u(83),o=u(81);function r(l){return function(n){return n.lift(new i(l))}}var i=function(){function l(l){this.notifier=l}return l.prototype.call=function(l,n){var u=new s(l),t=Object(o.a)(u,this.notifier);return t&&!t.closed?(u.add(t),n.subscribe(u)):u},l}(),s=function(l){function n(n){return l.call(this,n)||this}return t.b(n,l),n.prototype.notifyNext=function(l,n,u,t,e){this.complete()},n.prototype.notifyComplete=function(){},n}(e.a)}}]);